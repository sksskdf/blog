@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    overflow-x: hidden;
    overflow-y: hidden;
    height: 100%;
  }

  body {
    padding: 0;
    margin: 0;
    font-family: 'Inter', 'Noto Sans KR', -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,
      Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;
    line-height: 1.6;
    font-size: 18px;
    background-color: #050505;
    color: #e5e5e5;
    overflow-x: hidden;
    overflow-y: hidden;
    height: 100%;
  }

  #__next {
    height: 100%;
  }

  ::selection {
    background-color: #00ff41;
    color: #0a0a0a;
  }

  * {
    box-sizing: border-box;
  }

  a {
    color: #e5e5e5;
    text-decoration: none;
    transition: color 0.2s ease;
  }

  a:hover {
    color: #00ff41;
  }

  img {
    max-width: 100%;
    display: block;
  }

  /* 코드 블록 스타일링 */
  pre {
    @apply bg-dark-card border border-dark-border rounded p-4 overflow-x-auto max-w-full text-sm leading-relaxed text-dark-text;
    word-wrap: break-word;
    white-space: pre;
  }

  code {
    @apply font-mono text-[0.9em] bg-dark-card text-brand-green px-1 py-0.5 rounded border border-dark-border;
  }

  pre code {
    @apply bg-transparent p-0 rounded-none border-none text-dark-text;
    font-size: inherit;
  }

  /* 모바일 반응형 */
  @media (max-width: 768px) {
    pre {
      @apply p-3 text-[0.85rem] -mx-4 rounded-none border-l-0 border-r-0;
    }
    
    code {
      font-size: 0.85em;
    }

    /* 모바일에서 스크롤 개선 */
    * {
      -webkit-overflow-scrolling: touch;
    }
  }

  /* 마크다운 헤딩 스타일 */
  .prose h1 {
    @apply text-2xl md:text-3xl font-bold mt-6 mb-3 text-dark-text leading-tight;
  }

  .prose h2 {
    @apply text-xl md:text-2xl font-bold mt-5 mb-2 text-dark-text leading-tight;
  }

  .prose h3 {
    @apply text-lg md:text-xl font-semibold mt-4 mb-2 text-dark-text leading-tight;
  }

  .prose h4 {
    @apply text-base md:text-lg font-semibold mt-3 mb-2 text-dark-text leading-tight;
  }

  .prose h5 {
    @apply text-sm md:text-base font-medium mt-3 mb-2 text-dark-text leading-tight;
  }

  .prose h6 {
    @apply text-sm font-medium mt-2 mb-1 text-dark-muted leading-tight;
  }

  .prose p {
    @apply mb-4 text-dark-text leading-relaxed;
  }

  .prose ul,
  .prose ol {
    @apply mb-4 pl-6 text-dark-text;
  }

  .prose li {
    @apply mb-2;
  }

  .prose ul li {
    @apply list-disc;
  }

  .prose ol li {
    @apply list-decimal;
  }

  .prose blockquote {
    @apply border-l-4 border-brand-green pl-4 italic text-dark-muted my-4;
  }

  .prose a {
    @apply text-brand-green hover:text-brand-accent underline;
  }

  .prose strong {
    @apply font-bold text-dark-text;
  }

  .prose em {
    @apply italic;
  }

  .prose hr {
    @apply border-dark-border my-8;
  }

  .prose table {
    @apply w-full border-collapse border border-dark-border my-4;
  }

  .prose th,
  .prose td {
    @apply border border-dark-border px-4 py-2 text-dark-text;
  }

  .prose th {
    @apply bg-dark-card font-semibold;
  }
}

@layer components {
  .hover-underline-animation {
    @apply relative inline-block;
  }

  .hover-underline-animation::after {
    content: '';
    @apply absolute w-full h-0.5 bottom-0 left-0 bg-brand-green;
    transform: scaleX(0);
    transform-origin: bottom right;
    transition: transform 0.25s ease-out;
  }

  .hover-underline-animation:hover::after {
    transform: scaleX(1);
    transform-origin: bottom left;
  }
}


/* 로딩 애니메이션 */
@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes loadingBar {
  0% {
    left: "-30%";
  }
  50% {
    left: "100%";
  }
  100% {
    left: "-30%";
  }
}

@keyframes chartBar {
  0%,
  100% {
    transform: scaleY(0.3);
    opacity: 0.7;
  }
  50% {
    transform: scaleY(1);
    opacity: 1;
  }
}

/* 커스텀 스크롤바 */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: #0a0a0a;
  border-left: 1px solid #222;
}

::-webkit-scrollbar-thumb {
  background: #333;
  border: 2px solid #0a0a0a;
}

::-webkit-scrollbar-thumb:hover {
  background: #00ff41;
}

/* 토스트 애니메이션 */
@keyframes slide-up {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out;
}